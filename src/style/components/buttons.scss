$btn-normal-height: 2.5rem;
$btn-normal-padding: 1rem;
$btn-small-height: 1.5rem;
$btn-small-padding: .5rem;

$btn-main-bg-color: $smartdok-yellow;
$btn-main-fg-color: $almost-black;
$btn-secondary-bg-color: rgba(0, 0, 0, 0.02);
$btn-secondary-fg-color: $almost-black;
$btn-secondary-border-color: $gray;

// Implements keyboard-only focus styling,
// https://stackoverflow.com/a/45191208/137627

.ui-btn {
  background: none;
  border: none;
  outline: none;
  font-size: inherit;
  padding: 0;

  height: $btn-normal-height;
  min-width: 10rem;

  &--small {
    height: $btn-small-height;
    min-width: 5rem;

    > .ui-btn__content {
      padding: 0 $btn-small-padding;
    }
  }
}

.ui-btn__content {
  @include action-font;

  height: 100%;
  width: 100%;
  padding: 0 $btn-normal-padding;
  border-radius: ($btn-normal-height / 2);
  outline: none;

  &--main {
    border: none;
    background-color: $btn-main-bg-color;
    color: $btn-main-fg-color;

    &:not(.ui-btn__content--inactive):hover {
      // XXX This is supposed to be a semi-transparent overlay
      // background-color: lighten($btn-main-bg-color, 10%);
      background-color: mix(#fff, $btn-main-bg-color, 30%);
    }

    &:not(.ui-btn__content--inactive):active {
      background-color: mix(#000, $btn-main-bg-color, 10%);
    }
  }

  &--secondary {
    // border: 1px solid
    border: none;
    box-shadow: inset 0 0 0 1px $btn-secondary-border-color;
    background-color: $btn-secondary-bg-color;
    color: $btn-secondary-fg-color;

    &:not(.ui-btn__content--inactive):hover {
      // lighten($btn-secondary-bg-color, 10%);
      background-color: mix(#fff, $btn-secondary-bg-color, 30%);
    }

    &:not(.ui-btn__content--inactive):active {
      background-color: mix(#000, $btn-secondary-bg-color, 10%);
    }
  }

  &--inactive {
    border: none;

    background-color: $gray;
    color: $grayer;
  }
}

.ui-btn:focus > .ui-btn__content {
  box-shadow: inset 0 0 0 0.125em $color-edit;
}
